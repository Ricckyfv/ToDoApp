import{a as b}from"./chunk-WNPNFEV6.js";import"./chunk-A63MY2IC.js";import{a as F}from"./chunk-BWIDBRTN.js";import"./chunk-PERY4QMG.js";import{$ as n,G as L,Ga as $,Ia as G,J as l,Ja as R,Ka as q,La as U,Ma as A,P as f,R as p,Ra as T,V,Y as j,Z as N,_ as i,aa as m,ca as E,da as g,ea as s,ja as P,ka as r,la as c,ma as B,n as h,na as y,p as _,pa as z,qa as O,ra as k,sa as M,ta as D,va as H,w as u,x,y as v,z as S}from"./chunk-BR23CZRW.js";import"./chunk-ACKELEN3.js";var Q=(t,a)=>a.id,W=(t,a,e)=>({"text-red-500 rounded font-semibold text-sm":t,"text-green-500 rounded font-semibold text-sm":a,"text-blue-500 rounded font-semibold text-sm":e}),X=t=>["/tasks/edit/",t];function Y(t,a){if(t&1&&(i(0,"div")(1,"p",38)(2,"span",39),r(3,"\u{1F4C6} Fecha:"),n(),r(4),k(5,"date"),n(),i(6,"p",40)(7,"span",39),r(8,"\u23F0 Hora:"),n(),r(9),k(10,"date"),n()()),t&2){let e=s(3);l(4),c(" ",D(5,2,e.selectedTask==null?null:e.selectedTask.dueDate,"fullDate")," "),l(5),c(" ",D(10,5,e.selectedTask==null?null:e.selectedTask.dueDate,"shortTime")," ")}}function Z(t,a){t&1&&(i(0,"p",41),r(1," Esta tarea no tiene fecha asignada. "),n())}function ee(t,a){if(t&1){let e=E();i(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"h3",31),r(5," Fecha y hora de la tarea "),n(),i(6,"button",32),g("click",function(){u(e);let d=s(2);return x(d.closeModal())}),i(7,"span",33),r(8,"Cerrar"),n(),r(9," \u2716 "),n()(),i(10,"div",34),f(11,Y,11,8,"div",35)(12,Z,2,0,"ng-template",null,0,H),n(),i(14,"div",36)(15,"button",37),g("click",function(){u(e);let d=s(2);return x(d.closeModal())}),r(16," Cerrar "),n()()()()()}if(t&2){let e=P(13),o=s(2);l(11),p("ngIf",o.selectedTask==null?null:o.selectedTask.dueDate)("ngIfElse",e)}}function te(t,a){if(t&1){let e=E();i(0,"tr",5)(1,"th",6),r(2),k(3,"uppercase"),n(),i(4,"td",7),r(5),n(),i(6,"td",7)(7,"span",8),r(8),k(9,"titlecase"),n()(),i(10,"td",7),r(11),n(),i(12,"td",9)(13,"a",10),v(),i(14,"svg",11),m(15,"path",12)(16,"path",13)(17,"path",14)(18,"path",15),n()(),S(),i(19,"button",16),g("click",function(){let d=u(e).$implicit,C=s();return x(C.showDueDate(d))}),v(),i(20,"svg",17),m(21,"path",12)(22,"path",18)(23,"path",19)(24,"path",20)(25,"path",21)(26,"path",22)(27,"path",23),n()(),f(28,ee,17,2,"div",24),S(),i(29,"button",16),g("click",function(){let d=u(e).$implicit,C=s();return x(C.delete(d.id))}),v(),i(30,"svg",25),m(31,"path",12)(32,"path",26),n()()()()}if(t&2){let e=a.$implicit,o=s();l(2),c(" ",M(3,7,e.category)," "),l(3),c(" ",e.title," "),l(2),p("ngClass",O(11,W,e.priority==="alta",e.priority==="media",e.priority==="baja")),l(),c(" ",M(9,9,e.priority)," "),l(3),c(" ",e.completed?"Si":"No"," "),l(2),p("routerLink",z(15,X,e.id)),l(15),p("ngIf",o.isModalOpen)}}function ie(t,a){t&1&&(i(0,"tr",5)(1,"td",42),r(2,"NO TASKS"),n()())}var w=class t{_taskService=h(b);tasks=L.required();get sortedTasks(){let a={alta:1,media:2,baja:3};return this.tasks().slice().sort((e,o)=>a[e.priority]-a[o.priority])}delete(a){this._taskService.delete(a).then(()=>{F.success("Tarea eliminada")}).catch(()=>{F.error("Error al eliminar la tarea")})}selectedTask=null;isModalOpen=!1;showDueDate(a){this.selectedTask=a,this.isModalOpen=!0;let e=document.getElementById("default-modal");e&&(e.classList.remove("hidden"),e.classList.add("flex"))}closeModal(){this.isModalOpen=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-table"]],inputs:{tasks:[1,"tasks"]},standalone:!0,features:[y],decls:16,vars:1,consts:[["noDate",""],[1,"relative","overflow-x-auto","bg-gray-500"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"border-b","text-xs","text-gray-100","uppercase","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","text-gray-300"],["scope","row",1,"px-6","py-4","font-bold","text-sm","text-white","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"],[3,"ngClass"],[1,"flex","gap-3","px-6","py-4"],[3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icons-tabler-outline","icon-tabler-edit"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"],["d","M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"],["d","M16 5l3 3"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icons-tabler-outline","icon-tabler-calendar-clock"],["d","M10.5 21h-4.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v3"],["d","M16 3v4"],["d","M8 3v4"],["d","M4 11h10"],["d","M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"],["d","M18 16.5v1.5l.5 .5"],["id","default-modal","tabindex","-1","aria-hidden","true","class","fixed top-10 left-0 right-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","currentColor",1,"icon","icon-tabler","icons-tabler-filled","icon-tabler-square-x"],["d","M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3zm-9.387 6.21l.094 .083l2.293 2.292l2.293 -2.292a1 1 0 0 1 1.497 1.32l-.083 .094l-2.292 2.293l2.292 2.293a1 1 0 0 1 -1.32 1.497l-.094 -.083l-2.293 -2.292l-2.293 2.292a1 1 0 0 1 -1.497 -1.32l.083 -.094l2.292 -2.293l-2.292 -2.293a1 1 0 0 1 1.32 -1.497z"],["id","default-modal","tabindex","-1","aria-hidden","true",1,"fixed","top-10","left-0","right-0","z-50","flex","justify-center","items-center","w-full","h-full","bg-black","bg-opacity-50"],[1,"relative","p-4","w-full","max-w-md"],[1,"bg-gray-300","rounded-lg","shadow","dark:bg-gray-800"],[1,"flex","justify-between","items-center","p-4","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","flex","items-center","justify-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],[1,"sr-only"],[1,"p-5","text-center"],[4,"ngIf","ngIfElse"],[1,"flex","justify-end","items-center","p-4","border-gray-200","dark:border-gray-700"],["data-modal-hide","default-modal","type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","mr-2","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none",3,"click"],[1,"text-gray-700","dark:text-gray-300","mb-2"],[1,"font-medium"],[1,"text-gray-700","dark:text-gray-300"],[1,"text-red-600","dark:text-red-400"],["colspan","4",1,"px-6","py-4","text-center"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"table",2)(2,"thead",3)(3,"tr")(4,"th",4),r(5,"Categoria"),n(),i(6,"th",4),r(7,"Titulo"),n(),i(8,"th",4),r(9,"Prioridad"),n(),i(10,"th",4),r(11,"Completado"),n()()(),i(12,"tbody"),j(13,te,33,17,"tr",5,Q,!1,ie,3,0,"tr",5),n()()()),e&2&&(l(13),N(o.sortedTasks))},dependencies:[T,A,$,G,q,R,U]})};function ne(t,a){t&1&&(i(0,"p"),r(1,"Loading..."),n())}function ae(t,a){if(t&1&&m(0,"app-table",2),t&2){let e=s();p("tasks",e.tasks())}}var I=class t{_taskService=h(b);tasks=this._taskService.getTasks;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-task-list"]],standalone:!0,features:[B([b]),y],decls:5,vars:1,consts:[[1,"mx-auto","w-full","max-w-screen-lg","px-4","text-white"],["routerLink","/tasks/new",1,"cursor-pointer","mb-8","inline-block","focus:outline-none","text-white","bg-green-700","hover:bg-green-800","focus:ring-4","focus:ring-green-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","dark:bg-green-600","dark:hover:bg-green-700","dark:focus:ring-green-800"],[3,"tasks"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"a",1),r(2," Nueva tarea "),n(),f(3,ne,2,0,"p")(4,ae,1,1,"app-table",2),n()),e&2&&(l(3),V(o._taskService.loading()?3:4))},dependencies:[w,T]})};export{I as default};
